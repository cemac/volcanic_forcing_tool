var container000Div,container000DivHeight,container000DivWidth,container010Div,container010DivHeight,container010DivWidth,title000Div,container020Div,container020DivHeight,container020DivWidth,select000Div,select010Div,plotType=globalConfig.default_plot_type,defaultDataType=globalConfig.default_data_type,dataType=defaultDataType,dataDir=globalConfig.data_directory,dataFiles=[],x={},y={},z={},axesData={},varData={},plotData={},plotIndexes={},maskData={},maskSlCount=0;function initVariables(){container000Div=document.getElementById("container000"),container010Div=document.getElementById("container010"),title000Div=document.getElementById("title000"),container020Div=document.getElementById("container020"),select000Div=document.getElementById("select000"),select010Div=document.getElementById("select010")}function initButtons(){var a=globalConfig.plot_button_label,e=globalConfig.data_button_label;for(var t in select000Div.innerHTML="<label>"+a+"</label><br>",select010Div.innerHTML="<label>"+e+"</label><br>",globalConfig.plotTypes){var l=globalConfig.plotTypes[t].name,o=globalConfig.plotTypes[t].label;select000Div.innerHTML=select000Div.innerHTML+"<button id='select-plot-type-"+l+"' class='button-plot_type'>"+o+"</button>"}for(var t in globalConfig.dataTypes){var p=globalConfig.dataTypes[t].name,i=globalConfig.dataTypes[t].label;1==globalConfig.dataTypes[t].sel_visible&&(select010Div.innerHTML=select010Div.innerHTML+"<button id='select-plot-data-"+p+"' class='button-data_type'>"+i+"</button>")}}function updateButton(a,e,t,l,o){var p=document.getElementById(a);p.onclick=1==e?(p.removeAttribute("disabled"),function(){startPlot(t,l)}):(p.setAttribute("disabled",!0),null)}function updateButtons(){for(var a in globalConfig.plotTypes){var e=globalConfig.plotTypes[a].name;e==plotType?updateButton("select-plot-type-"+e,!1,null,null,null):updateButton("select-plot-type-"+e,!0,e,dataType,0)}for(var a in globalConfig.dataTypes){var t=globalConfig.dataTypes[a].name;1==globalConfig.dataTypes[a].sel_visible&&(t==dataType?updateButton("select-plot-data-"+t,!1,null,null):updateButton("select-plot-data-"+t,!0,plotType,t))}}function initPlotDivs(){var a=globalConfig.page_title;document.title=a,container020Div.innerHTML="";var e=globalConfig.plotTypes[plotType].slider,t=globalConfig.plotTypes[plotType].mask;globalConfig.subplot_min_page_width;if(1==globalConfig.plotTypes[plotType].subplots)for(var l in globalConfig.axes.axes_dims){var o,p=globalConfig.axes.axes_dims[l].name;globalConfig.axes.axes_dims[l].label;o=(o=(o="")+"<div id='container-"+plotType+"-"+p+"' class='container-"+plotType+"'>")+"<div id='plot-"+plotType+"-"+p+"'></div>",1==e&&(o=o+"<div id='container-slider-"+plotType+"-"+p+"' class='container-slider'><div id='label-slider-"+plotType+"-"+p+"' class='label-slider'></div><div id='slider-"+plotType+"-"+p+"' class='slider'></div></div>"),1==t&&(o=(o=o+"<div id='title-mask-slider-"+plotType+"-"+p+"' class='title-mask-slider'>&nbsp;</div>")+"<div id='container-mask-slider-"+plotType+"-"+p+"' class='container-mask-slider'><div id='label-mask-slider-"+plotType+"-"+p+"' class='label-slider'></div><div id='mask-slider-"+plotType+"-"+p+"' class='slider'></div></div>"),o+="</div>",container020Div.innerHTML=container020Div.innerHTML+o}else o=(o=(o="")+"<div id='container-"+plotType+"' class='container-"+plotType+"'>")+"<div id='plot-"+plotType+"'></div>",1==e&&(o=o+"<div id='container-slider' class='container-slider'><div id='label-slider-"+plotType+"' class='label-slider'></div><div id='slider-"+plotType+"' class='slider'></div></div>"),1==t&&(o=(o=o+"<div id='title-mask-slider-"+plotType+"' class='title-mask-slider'>&nbsp;</div>")+"<div id='container-mask-slider' class='container-mask-slider'><div id='label-mask-slider-"+plotType+"' class='label-slider'></div><div id='mask-slider-"+plotType+"' class='slider'></div></div>"),o+="</div>",container020Div.innerHTML=container020Div.innerHTML+o}function addSliderListener(t,e,l,o){t.noUiSlider.on("change",function(){var a=t.noUiSlider.get(),e=z[plotType][o].data.indexOf(parseFloat(a));plotIndexes[o]=e,processIndexData(updatePlotDataType)}),t.noUiSlider.on("slide",function(){var a=t.noUiSlider.get();e.innerHTML="<label>"+l+"</label>: "+a})}function initSliders(){var a=globalConfig.plotTypes[plotType].slider,e=globalConfig.plotTypes[plotType].subplots,t=globalConfig.dataTypes[dataType].slider_enable;if(1==a)if(1==e)for(var l in globalConfig.axes.axes_dims){var o=globalConfig.axes.axes_dims[l].name,p=globalConfig.axes.axes_dims[l].label,i=plotIndexes[l],n=document.getElementById("label-slider-"+plotType+"-"+o),y=document.getElementById("slider-"+plotType+"-"+o);if(n.innerHTML="<label>"+p+"</label>: ",y.noUiSlider||(noUiSlider.create(y,{start:0,range:{min:0,max:100},tooltips:!1,snap:!0}),addSliderListener(y,n,p,l)),1==t){y.removeAttribute("disabled");for(var s={min:z[plotType][l].min,max:z[plotType][l].max},d=z[plotType][l].data.length,T=100/(d-1),r=1;r<d-1;r++){var m=(r*T).toFixed(2).toString()+"%",g=z[plotType][l].data[r];s[m]=g}y.noUiSlider.updateOptions({range:s}),y.noUiSlider.set(z[plotType][l].data[i]),n.innerHTML="<label>"+p+"</label>: "+z[plotType][l].data[i]}else plotIndexes[l]=i,y.setAttribute("disabled",!0)}else{var x=globalConfig.plotTypes[plotType].slider_label;n=document.getElementById("label-slider-"+plotType),y=document.getElementById("slider-"+plotType);n.innerHTML="<label>"+x+"</label>: ",noUiSlider.create(y,{start:0,range:{min:0,max:100},tooltips:!1,snap:!0}),1==t||(plotIndexes[l]=i),y.setAttribute("disabled",!0)}}function addMaskSliderListener(t,l,e){t.noUiSlider.on("change",function(){var a=t.noUiSlider.get();null!=e?(maskData[plotType][dataType][e].min=parseFloat(a[0]),maskData[plotType][dataType][e].max=parseFloat(a[1]),processIndexData(updatePlotDataType)):(maskData[plotType][dataType].min=parseFloat(a[0]),maskData[plotType][dataType].max=parseFloat(a[1]),processData(updatePlotDataType))}),t.noUiSlider.on("slide",function(){var a=t.noUiSlider.get(),e=globalConfig.dataTypes[dataType].mask_label;l.innerHTML="<label>"+e+"</label>: "+a[0]+" : "+a[1]})}function initMaskSliders(){var a=globalConfig.plotTypes[plotType].mask,e=globalConfig.plotTypes[plotType].subplots,t=globalConfig.dataTypes[dataType].mask_enable;if(1==a)if(1==e)for(var l in globalConfig.axes.axes_dims){var o=globalConfig.axes.axes_dims[l].name,p=(globalConfig.axes.axes_dims[l].label,globalConfig.dataTypes[dataType].name,globalConfig.dataTypes[dataType].mask_label),i=plotIndexes[l],n=document.getElementById("label-mask-slider-"+plotType+"-"+o),y=document.getElementById("mask-slider-"+plotType+"-"+o);if(n.innerHTML="<label>"+p+"</label>: ",y.noUiSlider||(noUiSlider.create(y,{start:[0,100],connect:!0,range:{min:0,max:100},step:10,margin:10,tooltips:!1}),addMaskSliderListener(y,n,l)),1==t){y.removeAttribute("disabled");var s={min:r=Math.floor(plotData[plotType][dataType][l][plotIndexes[l]].min),max:m=Math.ceil(plotData[plotType][dataType][l][plotIndexes[l]].max)},d=globalConfig.dataTypes[dataType].mask_values,T=globalConfig.dataTypes[dataType].mask_min_step;g=(g=(m-r)/d)<1?Math.round(2*g)/2:Math.round(g),y.noUiSlider.updateOptions({range:s,step:g,margin:g*T}),maskData[plotType][dataType][l].min||(maskData[plotType][dataType][l].min=r),maskData[plotType][dataType][l].max||(maskData[plotType][dataType][l].max=m),y.noUiSlider.set([maskData[plotType][dataType][l].min,maskData[plotType][dataType][l].max]),n.innerHTML="<label>"+p+"</label>: "+maskData[plotType][dataType][l].min.toFixed(2)+" : "+maskData[plotType][dataType][l].max.toFixed(2)}else plotIndexes[l]=i,y.setAttribute("disabled",!0)}else{globalConfig.dataTypes[dataType].name,p=globalConfig.dataTypes[dataType].mask_label,n=document.getElementById("label-mask-slider-"+plotType),y=document.getElementById("mask-slider-"+plotType);if(n.innerHTML="<label>"+p+"</label>: ",y.noUiSlider||(noUiSlider.create(y,{start:[0,100],connect:!0,range:{min:0,max:100},step:10,margin:10,tooltips:!1}),addMaskSliderListener(y,n,null)),1==t){y.removeAttribute("disabled");var r,m,g;s={min:r=Math.floor(plotData[plotType][dataType].min),max:m=Math.ceil(plotData[plotType][dataType].max)},d=globalConfig.dataTypes[dataType].mask_values,T=globalConfig.dataTypes[dataType].mask_min_step;g=(g=(m-r)/d)<1?Math.round(2*g)/2:Math.round(g),y.noUiSlider.updateOptions({range:s,step:g,margin:g*T}),maskData[plotType][dataType].min||(maskData[plotType][dataType].min=r),maskData[plotType][dataType].max||(maskData[plotType][dataType].max=m),y.noUiSlider.set([maskData[plotType][dataType].min,maskData[plotType][dataType].max]),n.innerHTML="<label>"+p+"</label>: "+maskData[plotType][dataType].min.toFixed(2)+" : "+maskData[plotType][dataType].max.toFixed(2)}else plotIndexes[l]=i,y.setAttribute("disabled",!0)}}function purgePlots(){for(var a=document.getElementsByClassName("js-plotly-plot"),e=0;e<a.length;e++)Plotly.purge(a[e])}function getAxesData(a){var e=globalConfig.dataTypes[dataType].axes_data;-1==dataFiles.indexOf(e)?getData(e,dataType,!0):processAxesData(continuePlot)}function startPlot(a,e){newPlot=a!=plotType,plotType=a,dataType=e,1==newPlot&&(purgePlots(),initPlotDivs()),updateButtons(),getAxesData()}function continuePlot(){var a=globalConfig.dataTypes[dataType].plot_data;a&&(-1==dataFiles.indexOf(a)?getData(a,dataType,!1):1==newPlot?processData(plotNewPlot):processData(updatePlotDataType))}function getData(a,e,t){var l=dataDir+"/"+a,o=new XMLHttpRequest;o.overrideMimeType("application/octet-stream"),o.open("GET",l,!0),o.onload=function(){var a=o.responseText;1==t?extractData(a,e,t,processAxesData,continuePlot):1==newPlot?extractData(a,e,t,processData,plotNewPlot):extractData(a,e,t,processData,updatePlotDataType)},o.send(null),dataFiles.push(a)}function extractData(a,e,t,l,o){if(0!=a){var p=JSON.parse(pako.inflate(a,{to:"string"})),i=JSON.parse(p);if(1==t)for(var n in i)axesData[n]||(axesData[n]=i[n]);else for(var n in i)if(!varData[n]){varData[n]={},varData[n].data=i[n],varData[n].min=Math.min.apply(null,varData[n].data),varData[n].max=Math.max.apply(null,varData[n].data);var y=globalConfig.dataTypes[dataType].data_min_value;null!=y&&(varData[n].min=y);var s=globalConfig.dataTypes[dataType].data_max_value;for(var d in null!=s&&(varData[n].max=s),globalConfig.plotTypes)if(maskData[d]||(maskData[d]={}),maskData[d][dataType]||(maskData[d][dataType]={}),1==globalConfig.plotTypes[d].subplots){for(var T in globalConfig.axes.axes_dims)maskData[d][dataType][T]||(maskData[d][dataType][T]={}),maskData[d][dataType][T].min=Math.floor(varData[n].min),maskData[d][dataType][T].max=Math.ceil(varData[n].max);var r=plotIndexes[T];null==r&&(r=0),processIndexData()}else maskData[d][dataType].min=Math.floor(varData[n].min),maskData[d][dataType].max=Math.ceil(varData[n].max),processData()}}l&&"function"==typeof l&&l(o)}function returnUnique(a){for(var e=[],t=0,l=a.length;t<l;t++)-1===e.indexOf(a[t])&&""!==a[t]&&e.push(a[t]);return e}function processAxesData(a){if(1==globalConfig.plotTypes[plotType].subplots){if(!x[plotType])for(key in x[plotType]={},globalConfig.axes.axes_dims)if(!x[plotType][key]){x[plotType][key]={};var e=globalConfig.axes.axes_dims[key].x;x[plotType][key].data=returnUnique(axesData[e]),x[plotType][key].min=Math.min.apply(null,x[plotType][key].data),x[plotType][key].max=Math.max.apply(null,x[plotType][key].data)}if(!y[plotType])for(key in y[plotType]={},globalConfig.axes.axes_dims)if(!y[plotType][key]){y[plotType][key]={};var t=globalConfig.axes.axes_dims[key].y;y[plotType][key].data=returnUnique(axesData[t]),y[plotType][key].min=Math.min.apply(null,y[plotType][key].data),y[plotType][key].max=Math.max.apply(null,y[plotType][key].data)}if(!z[plotType])for(key in z[plotType]={},globalConfig.axes.axes_dims)if(!z[plotType][key]){z[plotType][key]={};var l=globalConfig.axes.axes_dims[key].name;z[plotType][key].data=returnUnique(axesData[l]),z[plotType][key].min=Math.min.apply(null,z[plotType][key].data),z[plotType][key].max=Math.max.apply(null,z[plotType][key].data)}}else{if(!x[plotType]){x[plotType]={};e=globalConfig.plotTypes[plotType].x;x[plotType].data=axesData[e],x[plotType].min=Math.min.apply(null,x[plotType].data),x[plotType].max=Math.max.apply(null,x[plotType].data)}if(!y[plotType]){y[plotType]={};t=globalConfig.plotTypes[plotType].y;y[plotType].data=axesData[t],y[plotType].min=Math.min.apply(null,y[plotType].data),y[plotType].max=Math.max.apply(null,y[plotType].data)}if(!z[plotType]){z[plotType]={};l=globalConfig.plotTypes[plotType].z;z[plotType].data=axesData[l],z[plotType].min=Math.min.apply(null,z[plotType].data),z[plotType].max=Math.max.apply(null,z[plotType].data)}}a&&"function"==typeof a&&a()}function processIndexData(a){plotData[plotType]||(plotData[plotType]={}),plotData[plotType][dataType]||(plotData[plotType][dataType]={});var e=varData[dataType].min,t=varData[dataType].max;for(key in globalConfig.axes.axes_dims){maskData[plotType]||(maskData[plotType]={}),maskData[plotType][dataType]||(maskData[plotType][dataType]={}),maskData[plotType][dataType][key]||(maskData[plotType][dataType][key]={}),plotIndexes[key]||(plotIndexes[key]=0);var l=plotIndexes[key];plotData[plotType][dataType][key]||(plotData[plotType][dataType][key]=[]);var o=globalConfig.axes.axes_dims[key].x,p=globalConfig.axes.axes_dims[o].length,i=globalConfig.axes.axes_dims[key].y,n=globalConfig.axes.axes_dims[i].length;if(!plotData[plotType][dataType][key][l]){plotData[plotType][dataType][key][l]={},plotData[plotType][dataType][key][l].data=[];var y=l;y=l*globalConfig.axes.axes_dims[key].offset_mult+globalConfig.axes.axes_dims[key].offset_add;for(var s=0;s<n;s+=1){plotData[plotType][dataType][key][l].data[s]=[];for(var d=0;d<p;d+=1)plotData[plotType][dataType][key][l].data[s][d]=varData[dataType].data[y]||null,y+=globalConfig.axes.axes_dims[key].x_inc;y+=globalConfig.axes.axes_dims[key].y_inc}plotData[plotType][dataType][key][l].min=e,plotData[plotType][dataType][key][l].max=t}if(null!=maskData[plotType][dataType][key].min&&null!=maskData[plotType][dataType][key].max){null==maskData[plotType][dataType][key].data&&(maskData[plotType][dataType][key].data=[]),null==maskData[plotType][dataType][key].data[l]&&(maskData[plotType][dataType][key].data[l]=[]);for(var T=0;T<plotData[plotType][dataType][key][l].data.length;T++){maskData[plotType][dataType][key].data[l][T]=[];for(var r=0;r<plotData[plotType][dataType][key][l].data[T].length;r++)plotData[plotType][dataType][key][l].data[T][r]>maskData[plotType][dataType][key].min&&plotData[plotType][dataType][key][l].data[T][r]<maskData[plotType][dataType][key].max?maskData[plotType][dataType][key].data[l][T][r]=plotData[plotType][dataType][key][l].data[T][r]:maskData[plotType][dataType][key].data[l][T][r]=null}}}a&&"function"==typeof a&&a()}function processData(a){if(1==globalConfig.plotTypes[plotType].subplots)processIndexData(a);else{if(plotData[plotType]||(plotData[plotType]={}),maskData[plotType]||(maskData[plotType]={}),maskData[plotType][dataType]||(maskData[plotType][dataType]={}),plotData[plotType][dataType]||(plotData[plotType][dataType]={},plotData[plotType][dataType].data=varData[dataType].data,plotData[plotType][dataType].min=varData[dataType].min,plotData[plotType][dataType].max=varData[dataType].max),null!=maskData[plotType][dataType].min&&null!=maskData[plotType][dataType].max){null==maskData[plotType][dataType].data&&(maskData[plotType][dataType].data=[]),null==maskData[plotType][dataType].x&&(maskData[plotType][dataType].x=[]),null==maskData[plotType][dataType].y&&(maskData[plotType][dataType].y=[]),null==maskData[plotType][dataType].z&&(maskData[plotType][dataType].z=[]);for(var e=0;e<plotData[plotType][dataType].data.length;e++)plotData[plotType][dataType].data[e]>maskData[plotType][dataType].min&&plotData[plotType][dataType].data[e]<maskData[plotType][dataType].max?(maskData[plotType][dataType].data[e]=plotData[plotType][dataType].data[e],maskData[plotType][dataType].x[e]=x[plotType].data[e],maskData[plotType][dataType].y[e]=y[plotType].data[e],maskData[plotType][dataType].z[e]=z[plotType].data[e]):(maskData[plotType][dataType].data[e]=null,maskData[plotType][dataType].x[e]=null,maskData[plotType][dataType].y[e]=null,maskData[plotType][dataType].z[e]=null)}a&&"function"==typeof a&&a()}}function plotCreateNewPlot(a,e,t,l,o,p,i,n,y,s,d,T,r,m,g,x,b,f,D,k,c,u,v,C,h,_,M,z,H,P,w,S){Plotly.newPlot(a,[{name:e,visible:s,type:plotType,colorscale:l,showscale:o,contours:{coloring:g},colorbar:{title:p,titleside:i,nticks:n},x:b,y:c,z:h,zmin:_,zmax:M,line:{width:x},marker:{color:w,colorscale:l,cmin:H,cmax:P,showscale:o,size:y,colorbar:{title:p,titleside:i,nticks:n}},mode:"markers",hoverinfo:"text",text:S}],{height:m,width:r,margin:{b:d,t:T},xaxis:{range:[f,D],title:k},yaxis:{range:[u,v],title:C},scene:{aspectmode:"cube",xaxis:{title:k,titlefont:{color:"k"},range:[f,D]},yaxis:{title:C,titlefont:{color:"k"},range:[u,v]},zaxis:{title:z,titlefont:{color:"k"},range:[_,M]}}},{showLink:!1,linkText:"",displaylogo:!1})}function updatePlotDataType(){var a=globalConfig.dataTypes[dataType].title;title000Div.innerHTML=a;var e=globalConfig.dataTypes[dataType].visible,t=globalConfig.dataTypes[dataType].colorscale,l=globalConfig.dataTypes[dataType].showscale,o=globalConfig.dataTypes[dataType].cbartitle,p=globalConfig.dataTypes[dataType].cbarside,i=globalConfig.dataTypes[dataType].cbarnticks,n=globalConfig.dataTypes[dataType].marker_size,s=globalConfig.dataTypes[dataType].label,d=globalConfig.dataTypes[dataType].shortname,T=(globalConfig.dataTypes[dataType].title,globalConfig.plotTypes[plotType].margin_b),r=globalConfig.plotTypes[plotType].margin_t,m=globalConfig.plotTypes[plotType].coloring,g=globalConfig.plotTypes[plotType].line;if(1==globalConfig.plotTypes[plotType].subplots)for(key in globalConfig.axes.axes_dims){var b=plotIndexes[key],f="plot-"+plotType+"-"+key,D=document.getElementById(f),k=x[plotType][key].data,c=x[plotType][key].min,u=x[plotType][key].max,v=globalConfig.axes.axes_dims[key].x,C=globalConfig.axes.axes_dims[v].label,h=globalConfig.axes.axes_dims[v].shortname,_=y[plotType][key].data,M=y[plotType][key].min,H=y[plotType][key].max,P=globalConfig.axes.axes_dims[key].y,w=globalConfig.axes.axes_dims[P].label,S=globalConfig.axes.axes_dims[P].shortname,I=plotData[plotType][dataType][key][b].min,L=plotData[plotType][dataType][key][b].max;if(null!=maskData[plotType][dataType][key].min&&null!=maskData[plotType][dataType][key].max)var E=maskData[plotType][dataType][key].data[b];else E=plotData[plotType][dataType][key][b].data;globalConfig.axes.axes_dims[key].label;var B=globalConfig.axes.axes_dims[key].shortname,U=plotData[plotType][dataType][key][b].min,W=plotData[plotType][dataType][key][b].max,A=plotData[plotType][dataType][key][b].data,F=[];if(E)for(var O=0;O<E.length;O++){F[O]=[];for(var N=0;N<E[O].length;N++)F[O][N]=h+": "+k[N]+"<br>"+S+": "+_[O]+"<br>"+d+": "+E[O][N]}var q={name:s,visible:e,colorscale:[t],showscale:l,"contours.coloring":m,"colorbar.title":o,"colorbar.titleside":p,"colorbar.nticks":i,x:[k],y:[_],z:[E],zmin:I,zmax:L,"line.width":g,"marker.color":[A],"marker.colorscale":[t],"marker.cmin":U,"marker.cmax":W,"marker.showscale":l,"marker.size":n,"marker.colorbar.title":o,"marker.colorbar.titleside":p,"marker.colorbar.nticks":i,text:[F]},R={"margin.b":T,"margin.t":r,"xaxis.range":[c,u],"xaxis.title":C,"yaxis.range":[M,H],"yaxis.title":w};Plotly.update(D,q,R),1==globalConfig.plotTypes[plotType].slider&&initSliders(),1==globalConfig.plotTypes[plotType].mask&&initMaskSliders()}else{f="plot-"+plotType,D=document.getElementById(f),k=x[plotType].data,c=x[plotType].min,u=x[plotType].max,v=globalConfig.plotTypes[plotType].x,C=globalConfig.axes.axes_dims[v].label,h=globalConfig.axes.axes_dims[v].shortname,_=y[plotType].data,M=y[plotType].min,H=y[plotType].max,P=globalConfig.plotTypes[plotType].y,w=globalConfig.axes.axes_dims[P].label,S=globalConfig.axes.axes_dims[P].shortname,E=z[plotType].data,I=z[plotType].min,L=z[plotType].max;var J=globalConfig.plotTypes[plotType].z;globalConfig.axes.axes_dims[J].label,B=globalConfig.axes.axes_dims[J].shortname,U=plotData[plotType][dataType].min,W=plotData[plotType][dataType].max;if(null!=maskData[plotType][dataType].min&&null!=maskData[plotType][dataType].max){A=maskData[plotType][dataType].data;k=maskData[plotType][dataType].x,_=maskData[plotType][dataType].y,E=maskData[plotType][dataType].z}else A=plotData[plotType][dataType].data;F=[];if(A)for(O=0;O<A.length;O++)F[O]=h+": "+k[O]+"<br>"+S+": "+_[O]+"<br>"+B+": "+E[O]+"<br>"+d+": "+A[O];q={name:s,visible:e,colorscale:[t],showscale:l,"contours.coloring":m,"colorbar.title":o,"colorbar.titleside":p,"colorbar.nticks":i,x:[k],y:[_],z:[E],zmin:I,zmax:L,"line.width":g,"marker.color":[A],"marker.colorscale":[t],"marker.cmin":U,"marker.cmax":W,"marker.showscale":l,"marker.size":n,"marker.colorbar.title":o,"marker.colorbar.titleside":p,"marker.colorbar.nticks":i,text:[F]},R={"margin.b":T,"margin.t":r,"xaxis.range":[c,u],"xaxis.title":C,"yaxis.range":[M,H],"yaxis.title":w};Plotly.update(D,q,R),1==globalConfig.plotTypes[plotType].slider&&initSliders(),1==globalConfig.plotTypes[plotType].mask&&initMaskSliders()}updateLayout()}function plotNewPlot(){var a=globalConfig.dataTypes[dataType].title;title000Div.innerHTML=a;var e=globalConfig.dataTypes[dataType].visible,t=globalConfig.dataTypes[dataType].colorscale,l=globalConfig.dataTypes[dataType].showscale,o=globalConfig.dataTypes[dataType].cbartitle,p=globalConfig.dataTypes[dataType].cbarside,i=globalConfig.dataTypes[dataType].cbarnticks,n=globalConfig.dataTypes[dataType].marker_size,s=globalConfig.dataTypes[dataType].label,d=globalConfig.dataTypes[dataType].shortname,T=globalConfig.dataTypes[dataType].title,r=globalConfig.plotTypes[plotType].margin_b,m=globalConfig.plotTypes[plotType].margin_t,g=globalConfig.plotTypes[plotType].coloring,b=globalConfig.plotTypes[plotType].line,f=globalConfig.plotTypes[plotType].init_plot_width,D=globalConfig.plotTypes[plotType].init_plot_height;if(1==globalConfig.plotTypes[plotType].subplots){for(key in globalConfig.axes.axes_dims){var k=plotIndexes[key],c="plot-"+plotType+"-"+key,u=x[plotType][key].data,v=x[plotType][key].min,C=x[plotType][key].max,h=globalConfig.axes.axes_dims[key].x,_=globalConfig.axes.axes_dims[h].label,M=globalConfig.axes.axes_dims[h].shortname,H=y[plotType][key].data,P=y[plotType][key].min,w=y[plotType][key].max,S=globalConfig.axes.axes_dims[key].y,I=globalConfig.axes.axes_dims[S].label,L=globalConfig.axes.axes_dims[S].shortname,E=plotData[plotType][dataType][key][k].min,B=plotData[plotType][dataType][key][k].max;if(null!=maskData[plotType][dataType][key].min&&null!=maskData[plotType][dataType][key].max)var U=maskData[plotType][dataType][key].data[k];else U=plotData[plotType][dataType][key][k].data;var W=globalConfig.axes.axes_dims[key].label,A=globalConfig.axes.axes_dims[key].shortname,F=plotData[plotType][dataType][key][k].min,O=plotData[plotType][dataType][key][k].max,N=plotData[plotType][dataType][key][k].data,q=[];if(U)for(var R=0;R<U.length;R++){q[R]=[];for(var J=0;J<U[R].length;J++)q[R][J]=M+": "+u[J]+"<br>"+L+": "+u[R]+"<br>"+d+": "+U[R][J]}plotCreateNewPlot(c,s,T,t,l,o,p,i,n,e,r,m,f,D,g,b,u,v,C,_,H,P,w,I,U,E,B,W,F,O,N,q)}updateLayout()}else{c="plot-"+plotType,u=x[plotType].data,v=x[plotType].min,C=x[plotType].max,h=globalConfig.plotTypes[plotType].x,_=globalConfig.axes.axes_dims[h].label,M=globalConfig.axes.axes_dims[h].shortname,H=y[plotType].data,P=y[plotType].min,w=y[plotType].max,S=globalConfig.plotTypes[plotType].y,I=globalConfig.axes.axes_dims[S].label,L=globalConfig.axes.axes_dims[S].shortname,U=z[plotType].data,E=z[plotType].min,B=z[plotType].max;var V=globalConfig.plotTypes[plotType].z;W=globalConfig.axes.axes_dims[V].label,A=globalConfig.axes.axes_dims[V].shortname,F=plotData[plotType][dataType].min,O=plotData[plotType][dataType].max;if(null!=maskData[plotType][dataType].min&&null!=maskData[plotType][dataType].max){N=maskData[plotType][dataType].data;u=maskData[plotType][dataType].x,H=maskData[plotType][dataType].y,U=maskData[plotType][dataType].z}else N=plotData[plotType][dataType].data;q=[];if(N)for(R=0;R<N.length;R++)q[R]=M+": "+u[R]+"<br>"+L+": "+H[R]+"<br>"+A+": "+U[R]+"<br>"+d+": "+N[R];plotCreateNewPlot(c,s,T,t,l,o,p,i,n,e,r,m,f,D,g,b,u,v,C,_,H,P,w,I,U,E,B,W,F,O,N,q),updateLayout()}initSliders(),initMaskSliders(),updateLayout()}function updateLayout(){var a=globalConfig.plotTypes[plotType].min_height_ratio,e=globalConfig.plotTypes[plotType].max_height_ratio;container000DivHeight=window.getComputedStyle(container000Div).height;var t=new RegExp("px","g");container000DivHeight=container000DivHeight.replace(t,""),container000DivWidth=window.getComputedStyle(container000Div).width;t=new RegExp("px","g");container000DivWidth=container000DivWidth.replace(t,""),container020DivOffset=container020Div.offsetTop,container020DivHeight=.99*(container000DivHeight-container020DivOffset),container020Div.style.height=container020DivHeight.toString()+"px";globalConfig.plotTypes[plotType].mask;var l=globalConfig.plotTypes[plotType].mask_label;if(maskSlCount=0,1==globalConfig.plotTypes[plotType].subplots){var o=globalConfig.subplot_min_page_width,p=globalConfig.plotTypes[plotType].slider;for(var i in globalConfig.axes.axes_dims){var n=document.getElementById("container-"+plotType+"-"+i);if(mTEl=document.getElementById("title-mask-slider-"+plotType+"-"+i),n.style.height=(sPCDH=container000DivWidth<o?(mTEl.innerHTML=l,n.style.display="table-row",n.style.width="100%",sPCDW=.99*container000DivWidth):(maskSlCount<1?(mTEl.innerHTML=l,maskSlCount++):mTEl.innerHTML="&nbsp;",n.style.display="table-cell",n.style.width="32%",sPCDW=container000DivWidth/3*.99,1==p?(sPCDO=n.offsetTop,.99*(container020DivHeight-sPCDO)):.99*container020DivHeight),sPCDH>sPCDW*e&&(sPCDH=sPCDW*e),sPCDH<sPCDW*a&&(sPCDH=sPCDW*a),sPCDH.toString()+"px"),(s=document.getElementById("plot-"+plotType+"-"+i)).data){var y={height:sPCDH,width:sPCDW};Plotly.relayout(s,y)}}}else{mTEl=document.getElementById("title-mask-slider-"+plotType),mTEl.innerHTML=l;var s,d=document.getElementById("container-"+plotType);if(d.style.display="table-row",d.style.width="100%",pCDW=.85*container000DivWidth,pCDH=.99*container020DivHeight,pCDH>pCDW*e&&(pCDH=pCDW*e),pCDH<pCDW*a&&(pCDH=pCDW*a),d.style.height=pCDH.toString()+"px",(s=document.getElementById("plot-"+plotType)).data){y={height:pCDH,width:pCDW};Plotly.relayout(s,y)}}}function loadPage(){initVariables(),initButtons(),updateButtons(),initPlotDivs(),updateLayout();var a=plotType;plotType="",startPlot(a,dataType)}window.addEventListener("load",function(){loadPage()}),window.addEventListener("resize",function(){updateLayout()});
